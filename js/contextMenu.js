var ContextMenu=function(){var e={requestURL:"https://software.enablon.com/Software/?u=%2FReferent%2FRqtes&rid=",requirementURL:"https://software.enablon.com/Software/?u=%2FReferent%2FProreq&rid=",testfileURL:"https://software.enablon.com/Software/?u=%2FReferent%2FFTs&rid=",initialize:function(){var e="Find Software Request",e=(chrome.contextMenus.create({title:e,contexts:["selection"],onclick:this.openRequest}),"Find Software Requirement"),e=(chrome.contextMenus.create({title:e,contexts:["selection"],onclick:this.openRequirement}),"Find Software Test File");chrome.contextMenus.create({title:e,contexts:["selection"],onclick:this.openTestFile})},initInWindow:function(){this.validNumber(this.getClipboard().replace("FT",""))&&$("#inputSoftware").val(this.getClipboard())},validNumber:function(e){var t=e.replace(/"/g,"");return parseInt(t,10)>0},openRequest:function(e,t){var n=JSON.stringify(e.selectionText),r=n.replace(/"/g,"");parseInt(r,10)>0&&chrome.tabs.create({url:"https://software.enablon.com/Software/?u=%2FReferent%2FRqtes&rid="+r,index:t.index+1,openerTabId:t.id})},openRequirement:function(e,t){var n=JSON.stringify(e.selectionText),r=n.replace(/"/g,"");parseInt(r,10)>0&&chrome.tabs.create({url:"https://software.enablon.com/Software/?u=%2FReferent%2FProreq&rid="+r,index:t.index+1,openerTabId:t.id})},openTestFile:function(e,t){var n=JSON.stringify(e.selectionText),r=n.replace(/"/g,"");r.indexOf("FT")>=0&&(r=r.replace("FT",""),parseInt(r,10)>0&&chrome.tabs.create({url:"https://software.enablon.com/Software/?u=%2FReferent%2FFTs&rid="+r,index:t.index+1,openerTabId:t.id}))},getClipboard:function(){var e=document.createElement("textarea");document.body.appendChild(e),e.focus(),document.execCommand("paste");var t=e.value;return document.body.removeChild(e),t},clearClipboard:function(){var e=document.createElement("textarea"),t=document.createTextNode("\x00");e.appendChild(t),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},gotoRequest:function(){var e=this;return function(){var t=$("#inputSoftware").val();if(e.validNumber(t)){var n="https://software.enablon.com/Software/?u=%2FReferent%2FRqtes&rid="+t;myTransitions.hideQuickLinks(),e.clearClipboard(),chrome.tabs.query({currentWindow:!0,active:!0},function(e){chrome.tabs.create({url:n,index:e[0].index+1,openerTabId:e[0].id})})}}},gotoRequirement:function(){var e=this;return function(){var t=$("#inputSoftware").val();if(e.validNumber(t)){var n="https://software.enablon.com/Software/?u=%2FReferent%2FProreq&rid="+t;myTransitions.hideQuickLinks(),e.clearClipboard(),chrome.tabs.query({currentWindow:!0,active:!0},function(e){chrome.tabs.create({url:n,index:e[0].index+1,openerTabId:e[0].id})})}}},gotoTestFile:function(){var e=this;return function(){var t=$("#inputSoftware").val();if(e.validNumber(t.replace("FT",""))){var n="https://software.enablon.com/Software/?u=%2FReferent%2FFTs&rid="+t.replace("FT","");myTransitions.hideQuickLinks(),e.clearClipboard(),chrome.tabs.query({currentWindow:!0,active:!0},function(e){chrome.tabs.create({url:n,index:e[0].index+1,openerTabId:e[0].id})})}}},quickLinksEvents:function(){var e=this;$("#"+buttons.softwareRequest).click(this.gotoRequest()),$("#"+buttons.softwareRequirement).click(this.gotoRequirement()),$("#"+buttons.softwareTestFile).click(this.gotoTestFile()),$("#software-clearField").click(function(){e.clearClipboard(),$("#inputSoftware").val("")}),$("#"+buttons.quickLinks).click(myTransitions.showQuickLinks),$("#"+buttons.softwareBack).click(myTransitions.hideQuickLinks),$(document).keypress(function(e){13==e.which&&"quickLinks"==localStorage.getItem("currentWindow")&&$("#"+buttons.softwareRequest).click()})}};return e};